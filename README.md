# javascript-racingcar-precourse

이번에 진행할 미션은 **초간단 자동차 경주 게임**입니다. 경주할 자동차와 시도할 횟수를 주어지면 모든 시도가 끝난 후 가장 멀리간 자동차가 우승입니다.
어떤 자동차가 우승할지는 랜덤이며 우승자는 한 명 이상일 수 있습니다.

## 기능 요구사항

### 입력

- 각 자동차에 이름을 부여할 수 있다.
- 자동차 이름은 쉼표(,)를 기준으로 구분하며 이름은 5자 이하만 가능하다.
- 사용자는 몇 번의 이동을 할 것인지를 입력할 수 있어야 한다.

```
// 자동차 이름 입력 예시
경주할 자동차 이름을 입력하세요.(이름은 쉼표(,) 기준으로 구분)
pobi,woni,jun

// 시도할 횟수 입력 예시
시도할 횟수는 몇 회인가요?
5
```

### 입력 예외 처리

- 사용자가 잘못된 값을 입력할 경우 "[ERROR]"로 시작하는 메시지와 함께 Error를 발생시킨 후 애플리케이션은 종료되어야 한다.

### 경주 게임 진행

- 주어진 횟수 동안 n대의 자동차는 전진 또는 멈출 수 있다.
- 전진하는 조건은 0에서 9 사이에서 무작위 값을 구한 후 무작위 값이 4 이상일 경우이다.
- 자동차 경주 게임을 완료한 후 누가 우승했는지를 알려준다. 우승자는 한 명 이상일 수 있다.

### 출력

- 전진하는 자동차를 출력할 때 자동차 이름을 같이 출력한다.
- 우승자가 여러 명일 경우 쉼표(,)를 이용하여 구분한다.
- (추가 고려) 우승자가 여러 명일 경우 입력받은 순으로 출력한다.
- (추가 고려) 횟수가 시도될 때마다 차수별 실행 결과를 출력한다.

```
// 실행 결과 예시
pobi : -
woni :
jun : -

```

```
// 우승자 출력 예시
최종 우승자 : pobi, jun
```

## 구현할 기능 목록

단일 기능을 가지고 있는 함수로 분리하는 것을 목표로 하며 Class로 구현합니다.

- [x] class 인스턴스 생성하기
  - 경주할 자동차와 전진 상태를 배열로 관리
- [x] 사용자 입력 받기
- [x] 입력받은 데이터 처리하기
  - 자동차 이름 앞뒤 공백 처리하기
- [x] 전진 조건 생성 함수 구현하기
- [x] 실행 결과 출력하기
- [x] 횟수만큼 게임 진행하기
- [x] 우승자 출력하기
- [x] 입력 예외처리하기
  - 쉼표(,) 이외의 구분자는 예외 처리
  - 자동차 이름이 1~5글자가 아니라면 예외 처리
  - 시도할 횟수가 양의 정수가 아니라면 예외 처리
  - 아무것도 입력하지 않았다면 예외 처리

## 수정 사항

### 1. class 인스턴스 데이터 구조 수정

경주할 자동차와 전진 상태를 `Map 객체`로 관리할 생각이었지만 각자 배열로 분리하여 관리하는 것으로 수정되었습니다.
전진 상태를 업데이트하기 위해 `for...of 문`을 사용하려고 했지만 아래의 경고가 생겼습니다.

```
iterators/generators require regenerator-runtime, which is too heavyweight for this guide to allow them. Separately, loops should be avoided in favor of array iterations.
```

이는 `regenerator-runtime` 라이브러리가 무거워질 수 있다는 내용입니다. 대신 배열 내장 메서드를 활용해서 구현하기 위해 배열로 데이터 구조를 변경했습니다.

## 사용한 정규표현식 설명

### 1. `handleCarsInputException` 함수에 사용된 정규표현식

`handleCarsInputException`함수는 경주할 자동차의 문자열 입력이 잘못된 형식인지 판단합니다.

```js
const regex = /^[^,]{1,5}(,[^,]{1,5})*$/;
```

- `^`: 문자열의 시작을 나타냅니다.
- `[^,]{1,5}`: 쉼표가 아닌 문자(`[^,]`)가 1~5개까지 있는 패턴입니다.
- `(,[^,]{1,5})*`: 0번 이상 반복될 수 있는 그룹으로 각 그룹은 쉽표로 시작합니다. 그 뒤에는 1~5개의 쉼표가 아닌 문자가 따라옵니다.
- `$`: 문자열의 끝을 나타냅니다. 앞서 작성한 그룹으로 끝나면서 문자열이 ,로 끝나지 않습니다.

### 2. `handleCountInputException` 함수에 사용된 정규표현식

`handleCountInputException` 함수는 사용자가 입력한 시도할 횟수가 잘못된 입력인지 확인합니다.

```js
const regex = /^[1-9]\d*$/;
```

- `^[1-9]`: 0이 아닌 숫자로 시작합니다.
- `\d*$`: 십의 자리 이상의 숫자를 의미합니다. `\d`는 0~9까지의 숫자를 의미합니다. `*`를 붙여 0~9까지의 숫자가 0번 이상 반복됩니다. `$`를 마지막에 붙여서 0~9의 숫자로 끝납니다.
